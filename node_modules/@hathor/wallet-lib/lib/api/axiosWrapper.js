"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.axiosWrapperCreateRequestInstance = void 0;

var _axios = _interopRequireDefault(require("axios"));

var _constants = require("../constants");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Copyright (c) Hathor Labs and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

/**
 * Method that creates an axios instance
 *
 * @module Axios
 */

/**
 * Create an axios instance to be used when sending requests
 *
 * @param {String} url Base URL for the api requests
 * @param {callback} resolve Callback to be stored and used in case of a retry after a fail
 * @param {number} timeout Timeout in milliseconds for the request
 */
const axiosWrapperCreateRequestInstance = (url, resolve, timeout) => {
  if (timeout === undefined) {
    timeout = _constants.TIMEOUT;
  }

  const defaultOptions = {
    baseURL: url,
    timeout: timeout,
    headers: {
      'Content-Type': 'application/json'
    }
  };
  return _axios.default.create(defaultOptions);
};

exports.axiosWrapperCreateRequestInstance = axiosWrapperCreateRequestInstance;
var _default = axiosWrapperCreateRequestInstance;
exports.default = _default;